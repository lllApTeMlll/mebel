var AjexFileManager={init:function(t){if("undefined"==typeof t&&(t={}),this.path=t.path||function(){for(var t=document.getElementsByTagName("script"),e=-1;++e<t.length;)if(t[e].getAttribute("src")&&-1!=(src=t[e].getAttribute("src")).indexOf("/ajex.js"))return src.substring(0,src.lastIndexOf("/"));return alert('Undefined variable "path" in AjexFileManager.init({path:"/path/to/AjexFileManager/"});'),null}(),"/"==this.path.substring(this.path.length-1)&&(this.path=this.path.substring(0,this.path.length-1)),this.returnTo=t.returnTo||"ckeditor",this.connector=t.connector||"php",this.width=t.width||1e3,this.height=t.height||660,this.skin=t.skin||"dark",this.lang=t.lang||"ru",this.contextmenu="undefined"!=typeof t.contextmenu&&!1===t.contextmenu?!1:!0,"ckeditor"==this.returnTo)if("undefined"!=typeof t.editor){t.editor.config.filebrowserWindowWidth=this.width,t.editor.config.filebrowserWindowHeight=this.height,t.editor.config.filebrowserBrowseUrl=this.path+"/index.html?type=file&connector="+this.connector+"&lang="+this.lang+"&returnTo="+this.returnTo+"&skin="+this.skin+"&contextmenu="+this.contextmenu,t.editor.config.filebrowserUploadUrl=this.path+"/ajax/"+this.connector+"/ajax."+this.connector+"?type=file&mode=QuickUpload";var e=["Flash","Image"];for(var i in e)t.editor.config["filebrowser"+e[i]+"WindowWidth"]=this.width,t.editor.config["filebrowser"+e[i]+"WindowHeight"]=this.height,t.editor.config["filebrowser"+e[i]+"BrowseUrl"]=this.path+"/index.html?type="+e[i].toLowerCase()+"&connector="+this.connector+"&lang="+this.lang+"&returnTo="+this.returnTo+"&skin="+this.skin+"&contextmenu="+this.contextmenu,t.editor.config["filebrowser"+e[i]+"UploadUrl"]=this.path+"/ajax/"+this.connector+"/ajax."+this.connector+"?mode=QuickUpload&type="+e[i].toLowerCase()}else alert('You need to pass the object in the variable "editor"');else"tinymce"==this.returnTo||(this.type=t.type||"file",this.url=this.path+"/index.html?type="+this.type.toLowerCase()+"&connector="+this.connector+"&lang="+this.lang+"&skin="+this.skin+"&contextmenu="+this.contextmenu,this.args="width="+this.width+",height="+this.height+"resizable=1,menubar=0,scrollbars=0,location=1,left=0,top=0,screenx=,screeny=")},open:function(t,e,i,n){switch(returnTo="undefined"!=typeof t.returnTo?t.returnTo:this.returnTo){case"ckeditor":break;case"tinymce":tinyMCE.activeEditor.windowManager.open({url:this.path+"/index.html?type="+i.toLowerCase()+"&connector="+this.connector+"&returnTo="+this.returnTo+"&lang="+this.lang+"&skin="+this.skin+"&contextmenu="+this.contextmenu,width:this.width,height:this.height,inline:"yes",close_previous:"no"},{window:n,input:t});break;default:var n=window.open(this.url+"&returnTo="+returnTo,"AjexFileManager",this.args);n.focus()}}};